(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{2298:function(e,n,t){Promise.resolve().then(t.bind(t,4147))},5218:function(e,n,t){"use strict";let r=t(8472).Z.create({baseURL:"https://reviewkhoahoc.net",timeout:1e4,headers:{"Content-Type":"application/json"}});n.Z=r},4147:function(e,n,t){"use strict";t.d(n,{Login:function(){return d}});var r=t(7437),o=t(6022),i=t(8206),a=t(7821),s=t(6463),c=t(2265),l=t(721),u=t(5956);let d=()=>{let e=(0,s.useRouter)(),n=(0,c.useCallback)(async n=>{l.O.loginAsync(n,n=>{n?e.replace("/admin"):(console.log("err"),u.Am.error("T\xe0i khoản hoặc mật khẩu kh\xf4ng đ\xfang."))})},[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-center text-[25px] font-bold mb-6",children:"Login"}),(0,r.jsx)(a.J9,{initialValues:{email:"nguyendiuhien",password:"$s12N2XvaJiwTBM2@"},onSubmit:n,children:e=>{let{values:n,errors:t,touched:a,handleChange:s,handleSubmit:c}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col w-1/4 gap-4 mb-4",children:[(0,r.jsx)(o.Y,{variant:"underlined",label:"Email",type:"email",value:n.email,isInvalid:!!t.email&&!!a.email,errorMessage:t.email,onChange:s("email")}),(0,r.jsx)(o.Y,{variant:"underlined",label:"Password",type:"password",value:n.password,isInvalid:!!t.password&&!!a.password,errorMessage:t.password,onChange:s("password")})]}),(0,r.jsx)(i.A,{onPress:()=>c(),variant:"flat",color:"primary",className:"w-1/4",radius:"none",children:"Login"})]})}})]})}},2375:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var r=t(5218),o=t(2649);let i={isLoggedIn:()=>!!i.getToken(),logoutAsync:async e=>{o.Z.set("token",""),e.replace("/login")},loginAsync:async(e,n)=>{let{email:t,password:i}=e;try{let{success:e,token:a}=(await r.Z.post("",{action:"authenticate",email:t,password:i},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;!1===e?n&&n(!1):(o.Z.set("token",a,{expires:1}),n&&n(!0))}catch(e){console.error("API call error:",e),n&&n(!1)}},getToken:()=>o.Z.get("token")}},721:function(e,n,t){"use strict";t.d(n,{O:function(){return r}});let r=t(2375).e},2649:function(e,n,t){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}t.d(n,{Z:function(){return o}});var o=function e(n,t){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=e+"="+n.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},o=0;o<t.length;o++){var i=t[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=n.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,n){o(e,"",r({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,r({},this.attributes,n))},withConverter:function(n){return e(r({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[176,184,746,22,821,971,23,744],function(){return e(e.s=2298)}),_N_E=e.O()}]);