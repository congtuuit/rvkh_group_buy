(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{2298:function(e,n,a){Promise.resolve().then(a.bind(a,4147))},5218:function(e,n,a){"use strict";let t=a(8472).Z.create({baseURL:"https://reviewkhoahoc.net/wp-admin/admin-ajax.php",timeout:1e4,headers:{"Content-Type":"application/json"}});n.Z=t},4147:function(e,n,a){"use strict";a.d(n,{Login:function(){return d}});var t=a(7437),s=a(6022),r=a(8206),i=a(7821),o=a(6463),l=a(2265),c=a(721),u=a(5956);let d=()=>{let e=(0,o.useRouter)(),n=(0,l.useCallback)(async n=>{c.O.loginAsync(n,n=>{n?e.replace("/admin"):(console.log("err"),u.Am.error("T\xe0i khoản hoặc mật khẩu kh\xf4ng đ\xfang."))})},[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-center text-[25px] font-bold mb-6",children:"Login"}),(0,t.jsx)(i.J9,{initialValues:{email:"nguyendiuhien",password:"$s12N2XvaJiwTBM2@"},onSubmit:n,children:e=>{let{values:n,errors:a,touched:i,handleChange:o,handleSubmit:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col w-1/4 gap-4 mb-4",children:[(0,t.jsx)(s.Y,{variant:"underlined",label:"Email",type:"email",value:n.email,isInvalid:!!a.email&&!!i.email,errorMessage:a.email,onChange:o("email")}),(0,t.jsx)(s.Y,{variant:"underlined",label:"Password",type:"password",value:n.password,isInvalid:!!a.password&&!!i.password,errorMessage:a.password,onChange:o("password")})]}),(0,t.jsx)(r.A,{onPress:()=>l(),variant:"flat",color:"primary",className:"w-1/4",radius:"none",children:"Login"})]})}})]})}},2375:function(e,n,a){"use strict";a.d(n,{e:function(){return r}});var t=a(5218),s=a(2649);let r={isLoggedIn:()=>!!r.getToken(),logoutAsync:async e=>{s.Z.set("token",""),e.replace("/login")},loginAsync:async(e,n)=>{let{email:a,password:r}=e;try{let{success:e,token:i}=(await t.Z.post("",{action:"authenticate",email:a,password:r},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;!1===e?n&&n(!1):(s.Z.set("token",i,{expires:1}),n&&n(!0))}catch(e){console.error("API call error:",e),n&&n(!1)}},getToken:()=>s.Z.get("token")}},721:function(e,n,a){"use strict";a.d(n,{O:function(){return t}});let t=a(2375).e}},function(e){e.O(0,[176,184,39,554,230,971,23,744],function(){return e(e.s=2298)}),_N_E=e.O()}]);