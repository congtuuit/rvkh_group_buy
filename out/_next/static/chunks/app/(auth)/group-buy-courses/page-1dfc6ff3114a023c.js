(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{7173:function(e,t,r){Promise.resolve().then(r.bind(r,748)),Promise.resolve().then(r.bind(r,5443)),Promise.resolve().then(r.bind(r,4900))},5218:function(e,t,r){"use strict";let n=r(8472).Z.create({baseURL:"https://reviewkhoahoc.net",timeout:1e4,headers:{"Content-Type":"application/json"}});t.Z=n},831:function(e,t,r){"use strict";r.d(t,{CH:function(){return o},Id:function(){return i},Pk:function(){return s},t8:function(){return c},zZ:function(){return a}});var n=r(5218);let a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await n.Z.get("/wp-json/tutor-helper/v1/courses",{params:{...e}})).data}catch(e){throw console.error("API call error:",e),e}},o=async e=>{try{return(await n.Z.get("/wp-json/tutor-helper/v1/get-course?id=".concat(e))).data}catch(e){throw console.error("API call error:",e),e}},s=async e=>{try{return(await n.Z.post("/wp-json/tutor-helper/v1/create-course",e)).data}catch(e){throw console.error("API call error:",e),e}},c=async e=>{try{return(await n.Z.post("/wp-json/tutor-helper/v1/update-course",e)).data}catch(e){throw console.error("API call error:",e),e}},i=async e=>{try{return(await n.Z.post("/wp-json/tutor-helper/v1/delete-course",{id:e})).data}catch(e){throw console.error("API call error:",e),e}}},748:function(e,t,r){"use strict";var n=r(7437),a=r(2265),o=r(3177),s=r(4093),c=r(9530),i=r(7931),l=r(9629),u=r(9139),d=r(964),h=r(1446),p=r(3908),f=r(1272),j=r(831),g=r(5956),m=r(6463);let x={draff:"default",publish:"success"};t.default=function(){let e=(0,m.useRouter)(),[t,r]=a.useState(1),[v,w]=a.useState(1),[y,b]=a.useState([]),[k,C]=a.useState("loading");(0,a.useEffect)(()=>{C("loading"),N(t)},[t]),(0,a.useEffect)(()=>{C("idle")},[y]);let N=async e=>{try{let{posts:t,total_pages:r}=(await (0,j.zZ)({paged:e})).data,n=null==t?void 0:t.map((t,r)=>({no:(e-1)*10+r+1,id:t.id,thumbnail:"https://via.placeholder.com/150",title:t.title,content:t.content,description:t.excerpt,url:t.permalink,footerUrl:t.permalink,status:t.status}));b(n),w(r)}catch(e){console.error("Error :",e)}},P=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return;let t=!1,r=g.Am.loading("Vui l\xf2ng chờ...");try{let{success:r,message:n}=await (0,j.Id)(e);t=r}catch(e){}t?(g.Am.update(r,{render:"X\xf3a b\xe0i viết th\xe0nh c\xf4ng.",type:"success",isLoading:!1,autoClose:1500}),N(1)):g.Am.update(r,{render:"X\xf3a b\xe0i viết thất bại.",type:"error",isLoading:!1,autoClose:1500})},S=t=>e.push("/group-buy-courses/edit/?id="+t),Z=a.useCallback((e,t)=>{let{id:r}=e,a=e[t];switch(t){case"title":return(0,n.jsx)("button",{onClick:()=>S(r),className:"cursor-pointer",children:a});case"url":return(0,n.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:a});case"status":return(0,n.jsx)(o.z,{className:"capitalize",color:x[e.status],size:"sm",variant:"flat",children:a});case"actions":return(0,n.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,n.jsx)(s.e,{content:"Sửa",className:"mr-5",children:(0,n.jsx)("button",{onClick:()=>S(r),className:"text-lg text-default-400 cursor-pointer active:opacity-50 mr-3",children:"Sửa"})}),(0,n.jsx)(s.e,{color:"danger",content:"X\xf3a",children:(0,n.jsx)("div",{role:"presentation",className:"text-lg text-danger cursor-pointer active:opacity-50",onClick:()=>{!0==confirm("Bạn c\xf3 chắc muốn x\xf3a kh\xf3a học n\xe0y kh\xf4ng? \nĐồng \xfd OK hoặc Hủy.")?P&&P(r):P&&P(void 0)},children:"X\xf3a"})})]});default:return a}},[]);return(0,n.jsxs)(c.b,{"aria-label":"Example table with client async pagination",bottomContent:v>0?(0,n.jsx)("div",{className:"flex w-full justify-center",children:(0,n.jsx)(i.g,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:t,total:v,onChange:e=>r(e)})}):null,children:[(0,n.jsxs)(l.J,{children:[(0,n.jsx)(u.j,{children:"STT"},"no"),(0,n.jsx)(u.j,{children:"Id"},"id"),(0,n.jsx)(u.j,{children:"Ti\xeau đề"},"title"),(0,n.jsx)(u.j,{children:"Đường dẫn"},"url"),(0,n.jsx)(u.j,{children:"Trạng th\xe1i"},"status"),(0,n.jsx)(u.j,{children:"Thao t\xe1c"},"actions")]}),(0,n.jsx)(d.y,{items:null!=y?y:[],loadingContent:(0,n.jsx)(h.c,{}),loadingState:null!=k?k:void 0,children:e=>(0,n.jsx)(p.g,{children:t=>(0,n.jsx)(f.X,{children:Z(e,t)})},null==e?void 0:e.id)})]})}}},function(e){e.O(0,[176,184,746,211,822,443,572,45,900,931,862,971,23,744],function(){return e(e.s=7173)}),_N_E=e.O()}]);